**riscV-5-stage-pipeline-cpu**  
这是我的一个课程设计项目，这个项目中，我需要从零开始搭建一个5流水线的rv32i架构的cpu，我使用了vivado来完成这个项目   

文件注释如下：  
five_pipeline_cpu 这个file包含了各模块的verilog代码  
project_new 这个file包含了vivado的工程文件    
riscv 这个file包含了我们这颗cpu需要运行的代码指令    

### RV32I CPU设计概述
- **指令集**：RV32I是RISC-V指令集的32位基础指令集，包含40条基础指令，涵盖整数运算、存储器访问、控制转移和系统控制等。
- **单周期CPU设计**：每个时钟周期完成一条指令的全部操作，包括取指、译码、运算、访存和写回。
- **五级流水线CPU设计**：将指令执行分为五个阶段（取指、译码、执行、访存、写回），通过流水线技术提高吞吐率。

### 指令集细节
- **指令编码**：分为六种类型（R-Type、I-Type、S-Type、B-Type、U-Type、J-Type），每种类型有特定的字段和用途。
- **寄存器**：32个通用寄存器，其中x0始终为0，其他寄存器有特定用途（如x1为返回地址寄存器ra，x2为栈指针sp等）。

### 单周期CPU设计
- **PC生成**：程序计数器PC控制指令执行顺序，NextPC的计算涉及指令译码和跳转分析。
- **指令存储器**：存放指令，支持读操作，每次读取4个字节。
- **指令译码及立即数生成**：根据指令格式提取操作码、寄存器地址和立即数。
- **控制信号生成**：根据指令的操作码、func3和func7生成控制信号，控制数据通路部件的操作。
- **数据通路**：包括寄存器堆、ALU、数据存储器等部件，完成数据的读取、运算和写回。

### 五级流水线设计
- **流水线阶段**：分为IF（取指）、ID（译码）、EX（执行）、ME（访存）、WB（写回）五个阶段。
- **数据冒险解决**：通过前递（forwarding）和停顿（stalling）机制解决数据冒险。
- **控制冒险解决**：采用静态分支预测（假设分支不发生）和缩短分支延迟的方法解决控制冒险。
